<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<title>Detalle de la Planta</title>
</head>

<body>



	<div class="container mt-5">
		<h2 th:text="'Detalles de la Planta: ' + ${planta.nomComun}"></h2>
		<div class="text-center mb-3">
			<img th:src="${planta.imagen}" alt="Imagen de la planta" class="img-fluid" style="max-height: 200px;">
		</div>
		<table class="table table-striped">
			<tbody>
				<!-- CARACTERÍSTICAS DESCRIPTIVAS -->
				<tr class="table-secondary">
					<th colspan="2">Características Descriptivas</th>
				</tr>
				<tr>
					<th>Nombre Común</th>
					<td th:text="${planta.nomComun}"></td>
				</tr>
				<tr>
					<th>Nombre Científico</th>
					<td th:text="${planta.nomCientifico}"></td>
				</tr>
				<tr>
					<th>Familia</th>
					<td th:text="${planta.familia}"></td>
				</tr>
				<tr>
					<th>Origen</th>
					<td th:text="${planta.origen}"></td>
				</tr>
				<tr>
					<th>Distribución</th>
					<td th:text="${planta.distribucion}"></td>
				</tr>
				<tr>
					<th>Adaptación</th>
					<td th:text="${planta.adaptacion}"></td>
				</tr>
				<tr>
					<th>Ciclo de Madurez</th>
					<td th:text="${planta.madurez}"></td>
				</tr>

				<!-- REQUERIMIENTOS CLIMÁTICOS -->
				<tr class="table-secondary">
					<th colspan="2">Requerimientos Climáticos</th>
				</tr>
				<tr>
					<th>Altitud</th>
					<td th:text="${planta.altitud}"></td>
				</tr>
				<tr>
					<th>Fotoperíodo</th>
					<td th:text="${planta.fotoperiodo}"></td>
				</tr>
				<tr>
					<th>Radiación</th>
					<td th:text="${planta.radiacion}"></td>
				</tr>
				<tr>
					<th>Temperatura</th>
					<td th:text="${planta.temperatura}"></td>
				</tr>
				<tr>
					<th>Precipitación</th>
					<td th:text="${planta.precipitacion}"></td>
				</tr>
				<tr>
					<th>Humedad</th>
					<td th:text="${planta.humedad}"></td>
				</tr>

				<!-- REQUERIMIENTOS EDÁFICOS -->
				<tr class="table-secondary">
					<th colspan="2">Requerimientos Edáficos</th>
				</tr>
				<tr>
					<th>Drenaje</th>
					<td th:text="${planta.drenaje}"></td>
				</tr>
				<tr>
					<th>pH</th>
					<td th:text="${planta.ph}"></td>
				</tr>
			</tbody>


		</table>
		<p></p>
		<form action="/cliente/agregarAFavoritos" method="post">
			<input type="hidden" name="plantaId" th:value="${planta.id}">
			<button type="submit" class="btn btn-warning">Añadir a Favoritos</button>
		</form>
		<p></p>
		<!-- FORMULARIO PARA NOTAS PERSONALES -->
		<form action="/cliente/guardarNotaPlanta" method="post">
			<!-- Asegúrate de que el nombre coincida con el controlador -->
			<input type="hidden" name="plantaId" th:value="${planta.id}">
			<div class="mb-3">
				<label for="nota" class="form-label">Escribe tu nota:</label>
				<textarea id="nota" name="nota" class="form-control" rows="3" required></textarea>
			</div>
			<button type="submit" class="btn btn-primary">Guardar Nota</button>
		</form>
		<p></p>

		<!-- NOTAS EXISTENTES -->
		<div>
			<h3>Nota Personalizada:</h3>
			<p th:if="${notaCliente != null}" th:text="${notaCliente}"></p>
			<p th:if="${notaCliente == null}">No has agregado una nota para esta planta.</p>
		</div>

		<a href="/cliente/index" class="btn btn-secondary mt-3">Regresar</a>
	</div>
</body>

</html>